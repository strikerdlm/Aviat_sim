:root {
	--bg: #0d1117;
	--card: #161b22;
	--fg: #c9d1d9;
	--muted: #8b949e;
	--accent: #58a6ff;
	--danger: #ff6b6b;
	--good: #3fb950;
}

* { box-sizing: border-box; }

body {
	margin: 0;
	font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	background: var(--bg);
	color: var(--fg);
}

.topbar {
	position: sticky;
	top: 0;
	background: linear-gradient(180deg, rgba(13,17,23,.95), rgba(13,17,23,.7));
	-webkit-backdrop-filter: blur(6px);
	backdrop-filter: blur(6px);
	border-bottom: 1px solid #21262d;
	padding: 12px 20px;
	display: flex;
	align-items: baseline;
	gap: 16px;
}
.brand { font-weight: 700; letter-spacing: 0.3px; }
.meta { color: var(--muted); font-size: 13px; }

.layout {
	display: grid;
	grid-template-columns: 1fr 320px;
	grid-template-rows: auto auto auto 1fr;
	gap: 16px;
	padding: 16px;
}

.gauges {
	grid-column: 1 / 2;
	grid-row: 1 / 2;
	background: var(--card);
	border: 1px solid #21262d;
	border-radius: 12px;
	padding: 8px;
}

.context { grid-column: 2 / 3; grid-row: 1 / 4; display: grid; gap: 16px; }
.card {
	background: var(--card);
	border: 1px solid #21262d;
	border-radius: 12px;
	padding: 12px 14px;
}
.card h3 { margin: 4px 0 10px; font-size: 14px; color: var(--muted); font-weight: 600; }
.card ul { margin: 0; padding-left: 18px; color: var(--fg); }

.timeline {
	grid-column: 1 / 2;
	grid-row: 2 / 3;
	background: var(--card);
	border: 1px solid #21262d;
	border-radius: 12px;
	padding: 10px 12px;
}
.controls { display: flex; align-items: center; gap: 12px; }
.controls .spacer { flex: 1; }
.time-label { color: var(--muted); font-size: 13px; }

#btn-play {
	background: var(--accent);
	color: #011627;
	border: none;
	border-radius: 8px;
	padding: 6px 10px;
	cursor: pointer;
	font-weight: 700;
}
#btn-play:active { transform: translateY(1px); }

.slider-wrap { position: relative; margin-top: 8px; }
#time { width: 100%; }
.markers { position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); height: 0; pointer-events: none; }
.markers .mark { position: absolute; width: 2px; height: 10px; background: var(--muted); opacity: .6; border-radius: 1px; }

.transcripts {
	grid-column: 1 / 3;
	grid-row: 4 / 5;
	background: var(--card);
	border: 1px solid #21262d;
	border-radius: 12px;
	overflow: hidden;
}
.transcript-header { padding: 10px 12px; border-bottom: 1px solid #21262d; }
.transcript-list { padding: 8px 12px 14px; display: grid; gap: 6px; max-height: 320px; overflow: auto; }

.line { display: grid; grid-template-columns: 90px 70px 1fr; gap: 10px; align-items: start; padding: 8px 10px; border-radius: 8px; border: 1px solid #242b33; background: #0f141a; }
.line .t { color: var(--muted); font-variant-numeric: tabular-nums; }
.line .crew { font-weight: 600; color: var(--accent); }
.line .say { color: var(--fg); }
.line.now { border-color: var(--accent); box-shadow: 0 0 0 1px rgba(88,166,255,.3); }

/* g3 gauge theme tweaks */
svg .g3-gauge-face { fill: #0e141b; stroke: #202733; }
svg .g3-axis-line { stroke: #2a3645; }
svg .g3-axis-ticks path, svg .g3-axis-ticks line { stroke: #415269; }
svg .g3-highlight-stroke { stroke: var(--accent); }
svg .g3-highlight-fill { fill: var(--accent); }
svg .g3-normal-fill { fill: var(--good); }
svg .g3-danger-fill, svg .g3-danger-stroke { stroke: var(--danger); fill: var(--danger); }


/* Charts */
.charts {
	grid-column: 1 / 3;
	grid-row: 3 / 4;
	background: var(--card);
	border: 1px solid #21262d;
	border-radius: 12px;
	padding: 10px 12px 6px;
}
.chart-controls { display: flex; align-items: center; gap: 12px; padding: 2px 2px 8px; }
.chart-controls .label { color: var(--muted); font-size: 13px; }
.chart-controls select { background: #0f141a; color: var(--fg); border: 1px solid #242b33; border-radius: 8px; padding: 4px 6px; }
.chart-wrap { position: relative; }
#chart { width: 100%; height: 240px; display: block; }
.legend { display: flex; align-items: center; gap: 10px; color: var(--muted); font-size: 12px; }
.legend .item { display: inline-flex; align-items: center; gap: 6px; }
.legend .sw { width: 10px; height: 10px; border-radius: 2px; display: inline-block; }

/* Live stats */
.stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.kv { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; align-items: baseline; padding: 6px 8px; border: 1px solid #242b33; border-radius: 8px; background: #0f141a; }
.kv .k { color: var(--muted); font-size: 12px; }
.kv .v { color: var(--fg); font-weight: 700; font-variant-numeric: tabular-nums; text-align: right; }

/* a11y */
.visually-hidden { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }

